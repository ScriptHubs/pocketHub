$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(function(){$("#userInfoForm").on("submit",function(t){t.preventDefault(),$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),data:new FormData(this),processData:!1,dataType:"json",contentType:!1,beforeSend:function(){$(document).find("span.error-text").text("")},success:function(t){0==t.status?$.each(t.error,function(t,e){$("span.error-text."+t).text(e[0])}):($(".name").each(function(){$(this).html($("#userInfoForm").find($('input[name="first_name"]')).val()+" "+$("#userInfoForm").find($('input[name="last_name"]')).val())}),Toast.create("Success",t.msg,TOAST_STATUS.SUCCESS,5e3))}})}),$("#userPasswordForm").on("submit",function(t){t.preventDefault(),$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),data:new FormData(this),processData:!1,dataType:"json",contentType:!1,beforeSend:function(){$(document).find("span.error-text").text("")},success:function(t){0==t.status?$.each(t.error,function(t,e){$("span.error-text."+t).text(e[0])}):($("#userPasswordForm")[0].reset(),Toast.create("Success",t.msg,TOAST_STATUS.SUCCESS,5e3))}})}),$("#uploadImage").on("submit",function(t){t.preventDefault(),$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),data:new FormData(this),processData:!1,dataType:"json",contentType:!1,beforeSend:function(){$(document).find("span.error-text").text("")},success:function(t){0==t.status?$.each(t.error,function(t,e){$("span.error-text."+t).text(e[0])}):($(".default-avatar").each(function(){$(this).addClass("d-none")}),$(".avatar").each(function(){$(this).attr("src",t.url+"/storage/avatars/"+t.avatar),$(this).removeClass("d-none")}),$(".avatar-hide").each(function(){$(this).addClass("d-none")}),$("#uploadImage")[0].reset(),Toast.create("Success",t.msg,TOAST_STATUS.SUCCESS,5e3),$("#staticBackdrop").modal("hide"))}})}),$("#deactivateForm").on("submit",function(t){t.preventDefault(),$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),data:new FormData(this),processData:!1,dataType:"json",contentType:!1,beforeSend:function(){$(document).find("span.error-text").text("")},success:function(t){0==t.status&&(console.log(t.status),$.each(t.error,function(t,e){$("span.error-text."+t).text(e[0])}))},error:function(t){401==t.status&&location.reload()}})})});